package main

import "testing"

var ExportContains = contains

func TestExportContains(t *testing.T) {
   //n = needle, h = haystack
   var h1 = []byte{0x00, 0x00, 0x00, 0xca, 0xfe, 0xba, 0xbe, 0x00}
   var n1 = []byte{0xca, 0xfe, 0xba, 0xbe}

   //small needle 
   /*var h2 = []byte{0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0xab, 0x00, 0x00, 0x00, 0x00}
   var n2 = []byte{0xab}

   //needle isn't in the haystack
   var h3 = []byte{0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00}
   var n3 = []byte{0xff}

   //needle at beginning of file
   var h4 = []byte{0xff, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00}
   var n4 = []byte{0xff}

   //needle at end of file
   var h5 = []byte{0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0xff}
   var n5 = []byte{0xff}*/

   found1, offset1 := ExportContains(n1,h1)
   if found1 != true && offset1 != 3 {
   	t.Error("Needle not found in haystack when it should have been.")
   }

}